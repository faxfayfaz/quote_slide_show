// Generated by CoffeeScript 1.3.3
/*
  jQuery Quote Slide Show plugin
  http://github.com/michaelkoper/quote_slide_show

  Copyright (c) 2012 Michael Koper

  Dual licensed under the MIT and GPL licenses.
  Uses the same license as jQuery, see:
  http://jquery.org/license

  @version 0.1

  Example usage:
  $('.quote').quoteSlideShow({
    speed: 7000,     // defaults to 5000
    random: true,    // defaults to false
    fadeSpeed: 1000  // defaults to 500
  });
*/

var $;

$ = jQuery;

jQuery.fn.extend({
  quoteSlideShow: function(options) {
    var currentQuote, defaults, showQuote, shuffle, start, totalQuotes,
      _this = this;
    defaults = {
      random: false,
      speed: 5000,
      fadeSpeed: 500
    };
    options = $.extend(options, defaults);
    currentQuote = 0;
    totalQuotes = this.length;
    start = function() {
      var playInterval;
      if (defaults.random) {
        shuffle();
      }
      _this.hide().first().show();
      return playInterval = setInterval(function() {
        return showQuote();
      }, options.speed);
    };
    showQuote = function() {
      return $(_this[currentQuote]).fadeOut(options.fadeSpeed, function() {
        if (currentQuote >= (totalQuotes - 1)) {
          currentQuote = 0;
        } else {
          currentQuote++;
        }
        return $(_this[currentQuote]).fadeIn(options.fadeSpeed);
      });
    };
    shuffle = function() {
      var i, j, x, _results;
      i = _this.length;
      _results = [];
      while (i) {
        j = parseInt(Math.random() * i);
        x = _this[--i];
        _this[i] = _this[j];
        _results.push(_this[j] = x);
      }
      return _results;
    };
    start();
    return this;
  }
});
